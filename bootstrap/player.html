<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="./css/player.css">

    <title>NHBD</title>
</head>
<body>
  <div class="backgr">
    <video autoplay muted loop id="myVideo">
      <source src="./media/videoplayback.mp4"type="video/mp4">
    </video>
    <!-- BUTTONS -->
    <div class="centralize">
      <button id="myBtn" onclick="myFunction()">Pause video</button>
      <button id ="myBtn3" onclick="myFunction3()">Madara</button>
      <button id="myBtn4" onclick="myFunction4()">Run</button>
      <button id="myBtn5" onclick="myFunction5()">Itachi</button>
      <button id="myBtn2" onclick="myFunction2()">Pause audio</button>
    </div>
    <!-- PROGRESS BAR -->
    <div class="progress-bar">
      <input type="range" id="progressBar" min="0" max="" value="0" />
    </div>
  </div>
    
    <audio id="audio">
      <source src="./media/Sweater Weather - The Neighbourhood.mp3" type="audio/mpeg">
    </audio>

    

    <script>
        // Get the video
        var video = document.getElementById("myVideo");
        // Get the buttonS
        var btn = document.getElementById("myBtn");
        var btn2 = document.getElementById("myBtn2")
        var btn3 = document.getElementById("myBtn3")
        var btn4 = document.getElementById("myBtn4")
        var btn5 = document.getElementById("myBtn5")
        // Get the audio
        const audio = document.getElementById("audio")
        var audio3 = new Audio("./media/Madara.mp3");
        var audio4 = new Audio("./media/run.mp3");
        var audio5 = new Audio("./media/Itachi_speech_by_me.mp3");

        //get the progress bar
        const progressBar = document.getElementById("progressBar")

        // Pause and play the video, and change the button text
        
        function myFunction() {
          if (video.paused) {
            video.play();
            btn.innerHTML = "Pause video";
          } else {
            video.pause();
            btn.innerHTML = "Play video";
          }
        }
        function myFunction2(){
          if(audio.paused){
            audio.play();
            btn2.innerHTML = "Pause audio";
          }else{
            audio.pause();
            btn2.innerHTML = "Play audio";
          }
        }
        // PROGRESS BAR FUNCTIONS
        function progressValue() {
          progressBar.max = audio.duration;
          progressBar.value = audio.currentTime;

          currentTime.textContent = formatTime(audio.currentTime);
          durationTime.textContent = formatTime(audio.duration);
        }

        setInterval(progressValue, 500);

        function formatTime(sec) {
          let minutes = Math.floor(sec / 60);
          let seconds = Math.floor(sec - minutes * 60);
          if (seconds < 10) {
            seconds = `0${seconds}`;
          }
          return `${minutes}:${seconds}`;
        }

        function changeProgressBar() {
          audio.currentTime = progressBar.value;
        }

        progressBar.addEventListener("click", changeProgressBar);

        document.addEventListener('keyup', (event) => {
          var name = event.key;
          var code = event.code;
          // Alert the key name and key code on keydown
          alert(`Key pressed ${name} \r\n Key code value: ${code}`);
        }, false);

        //BUTTONS REACT
        btn3.addEventListener('click', (e) => {
          audio3.play()
        })
        btn4.addEventListener('click', (e) => {
          audio4.play()
        })
        btn5.addEventListener('click', (e) => {
          audio5.play()
        })
        </script>
</body>
</html>